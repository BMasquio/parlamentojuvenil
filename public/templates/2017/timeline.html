<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>Parlamento Juvenil - ALERJ - 2016</title>
    <link href="../2016/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <!-- Timeline Style -->

    <link rel="stylesheet" type="text/css" href="assets/css/stylesheet.css">
    <link rel="stylesheet" type="text/css" href="assets/css/timeline.css">
    <link rel="shortcut icon" href="../2016/images/ico/favicon.ico">
</head>
<!--/head-->
<body>
<section id="timeline-container">
    <div class="container-full">
        <div class="row">
            <div class="col-xs-12">
                <h2>Cronograma</h2>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="watch">
            </div>
            <div class="col-xs-12">
                <ul id="timeline" class="timeline">

<!--                    <li>
                        <div class="timeline-bullet info"><i class=""></i></div>
                        <div class="timeline-panel-border">
                            <div class="timeline-panel-body">
                                <h4 class="timeline-panel-title">Abertura das inscrições</h4>
                                <p>23 de maio</p>
                            </div>
                        </div>
                    </li>-->
                    <li class="timeline-inverted">

                        <!--<div class="timeline-bullet info"><i class=""></i></div>
                        <div class="timeline-panel-border amarelo02">
                            <div class="timeline-date roxo01 date-left">
                                <p>06</p>
                                <p class="timeline-month">jul</p>
                            </div>
                            <div class="gtimeline-panel-body roxo01">
                                <h4 class="timeline-panel-title">Countdown</h4>
                                <p>ipsum lorem</p>

                                <ul id="countdown" v-if="__isCurrentCountdownEvent(item)">
                                    <li>
                                        <span class="days time-font">@{{ days }}</span>
                                        <p>dias </p>
                                    </li>
                                    <li>
                                        <span class="hours time-font">@{{ hours }}</span>
                                        <p class="">horas </p>
                                    </li>
                                    <li>
                                        <span class="minutes time-font">@{{ minutes }}</span>
                                        <p class="">minutos</p>
                                    </li>
                                    <li>
                                        <span class="seconds time-font">@{{ seconds }}</span>
                                        <p class="">segundos</p>
                                    </li>
                                </ul>

                            </div>
                        </div>     -->



                        <div class="timeline-bullet info"><i class=""></i></div>
                        <div class="timeline-panel-border amarelo02">
                            <div class="timeline-date roxo01 date-left">
                                <p>06</p>
                                <p class="timeline-month">jul</p>
                            </div>
                            <div class="timeline-panel-body roxo01">
                                <h4 class="timeline-panel-title">Eleições (1º turno)</h4>
                                <p>lorem ipsum</p>
                                <ul id="countdown">
                                    <li>
                                        <span class="time-font">48</span>
                                        <p>dias </p>
                                    </li>
                                    <li>
                                        <span class="time-font">11</span>
                                        <p class="">horas </p>
                                    </li>
                                    <li>
                                        <span class="time-font">8</span>
                                        <p class="">minutos</p>
                                    </li>
                                    <li>
                                        <span class="time-font">17</span>
                                        <p class="">segundos</p>
                                    </li>
                                </ul>

                            </div>
                        </div>
                    </li>

                    <li>
                        <div class="timeline-bullet info"><i class=""></i></div>
                        <div class="timeline-panel-border roxo01">
                            <div class="timeline-date amarelo01 date-right txt-azul01">
                                <p>30</p>
                                <p class="timeline-month">jun</p>
                            </div>
                            <div class="timeline-panel-body amarelo01 txt-azul01">
                                <h4 class="timeline-panel-title">Encerramento das inscrições</h4>
                                <p> ipsum lorem quad esta</p>
                            </div>
                        </div>
                    </li>
                    <li class="timeline-inverted">
                        <div class="timeline-bullet info"><i class=""></i></div>
                        <div class="timeline-panel-border laranja01">
                            <div class="timeline-date verde01 date-left">
                                <p>06</p>
                                <p class="timeline-month">jul</p>
                            </div>
                            <div class="timeline-panel-body verde01">
                                <h4 class="timeline-panel-title">Eleições (1º turno)</h4>
                                <p> ipsum lorem quad esta</p>
                            </div>
                        </div>
                    </li>

                    <li class="timeline-inverted">
                        <div class="timeline-end"><i class=""></i></div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</section>




<!-- VueJS -->
<script src="/vendor/vue/dist/vue.js"></script>
<script src="/vendor/vue-resource/dist/vue-resource.min.js"></script>
<!-- OWL -->
<script src="/vendor/OwlCarousel/owl-carousel/owl.carousel.min.js"></script>
<!-- IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
<script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
<!-- Datepicker -->
<script type='text/javascript' src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.0/js/bootstrap-datepicker.js"></script>
<script type='text/javascript' src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.0/locales/bootstrap-datepicker.pt-BR.min.js"></script>
<!-- jQuery Plugins -->
<script src="/js/wow.min.js"></script>
<script src="/js/jquery.placeholder.min.js"></script>
<!-- Masked Input -->
<script src="/vendor/jquery.maskedinput/dist/jquery.maskedinput.min.js"></script>
<!-- CPF -->
<script src="/js/receita.js"></script>
<!-- Blueimp Lightbox -->
<script src="//blueimp.github.io/Gallery/js/jquery.blueimp-gallery.min.js"></script>
<!-- jQuery Lazyload -->
<script type="text/javascript" src="/vendor/lazyload/dist/lazyload.min.js"></script>
<!-- Masonry -->
<script src="//cdnjs.cloudflare.com/ajax/libs/masonry/3.3.2/masonry.pkgd.min.js"></script>
<script src="//imagesloaded.desandro.com/imagesloaded.pkgd.min.js"></script>
<!-- Bootstrap Core JavaScript -->
<script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/templates/2016/js/smoothscroll.js"></script>
<script type="text/javascript" src="/templates/2016/js/jquery.parallax.js"></script>
<script type="text/javascript" src="/templates/2016/js/jquery.scrollTo.js"></script>
<script type="text/javascript" src="/templates/2016/js/jquery.nav.js"></script>
<!-- Pusher -->
<script src="http://js.pusher.com/3.1/pusher.min.js"></script>
<!-- scripts.blade.php -->
<script src="http://cdn.jsdelivr.net/masonry/2.1.08/jquery.masonry.min.js"></script>
<script src="http://cdn.jsdelivr.net/jquery.lazyload/1.8.4/jquery.lazyload.js"></script>
<script>
    jQuery(document).ready(function() {
        var $container = $('#masonry-container');
        $container.imagesLoaded(function () {
            $container.masonry({
                itemSelector: '.item',
                containerStyle: { position: 'relative' },
                columnWidth: function (containerWidth) {
                    return containerWidth / 12;
                }
            });
            $('.item img').addClass('not-loaded');
            $('.item img.not-loaded').lazyload({
                effect: 'fadeIn',
                load: function () {
                    // Disable trigger on this image
                    $(this).removeClass("not-loaded");
                    $container.masonry('reload');
                }
            });
            $('.item img.not-loaded').trigger('scroll');
        });
    });
</script>
<script>
    var cpfMasked = false;
    var birthdayBinded = false;
    var zipCodeMasked = false;

    function bindComponents()
    {
        birthday = jQuery('#birthdate');

        if ( ! birthdayBinded && birthday.length !== 0)
        {
            birthday.datepicker(
                    {
                        autoclose: true,
                        todayHighlight: false,
                        format: "dd/mm/yyyy",
                        todayBtn: false,
                        language: "pt-BR"
                    });

            birthdayBinded = true;
        }

        var cpf = jQuery("#cpf");

        if (! cpfMasked && cpf.length)
        {
            cpf.mask("999.999.999-99");

            cpfMasked = true;
        }

        var zipCode = jQuery("#zip_code");

        if (! zipCodeMasked && zipCode.length)
        {
            zipCode.mask("99.999-999");

            zipCodeMasked = true;
        }
    }

    function checkBindings()
    {
        setTimeout(function()
        {
            bindComponents();
            checkBindings();
        }, 1000);
    }

    checkBindings();
</script>
<script>
    if (jQuery("#vue-admin-index").length)
    {
        var vueAdminIndex = new Vue({
            el: '#vue-admin-index',

            data: {
                total: 0,
                subscriptions: [],
                hash: '',
                cancelled: 0,
                citiesIn: 0,
                citiesOut: 0,
                filterSchools : false,
                orderby: 'city',
                ordertype: 1,
            },

            methods: {
                __formatDates: function () {
                    var items = clone(this.subscriptions);

                    items.forEach(function(object)
                    {
                        object.formatteddate = this.__formatDate(object.lastsubscription);
                        object.lastsubscription = new Date(object.lastsubscription).getTime() / 1000;
                        object.index = Date.now();
                    }.bind(this));

                    this.subscriptions = clone(items);

                    this._digest();

                    //                    setTimeout(function ()
                    //                    {
                    //                        vueAdminIndex.__formatDates();
                    //                    }, 1000);
                },

                __fetchSubscriptions: function() {
                    this.$http.get('/subscriptions' , function(subscriptions) {
                        this.subscriptions = subscriptions;
                        this.__formatDates();
                        this.__countSubscriptions();
                    });
                },

                __countSubscriptions: function () {
                    this.total = 0;
                    this.cancelled = 0;

                    this.subscriptions.forEach(function(item) {
                        vueAdminIndex.$data.total += item.subscriptioncount;
                        vueAdminIndex.$data.cancelled += item.cancelledcount;
                        vueAdminIndex.$data.citiesIn = item.citiesin;
                        vueAdminIndex.$data.citiesOut = item.citiesout;
                    })
                },

                __clickFilterSchools: function() {
                    this.filterSchools = !this.filterSchools;
                },

                __changeOrder: function(field) {

                    if (this.orderby == field)
                    {
                        this.ordertype = this.ordertype * -1;

                        return;
                    }

                    this.ordertype = 1;

                    this.orderby = field;
                },

                __formatDate: function(date)
                {
                    return date;
                },
            },

            ready: function ()
            {
                this.__fetchSubscriptions();
            }
        });
    }
</script>
<script>
    if (jQuery("#subscribe").length)
    {
        var emptySchool = [{value: '', text: 'SELECIONE SUA ESCOLA'}];

        var vueApp = new Vue({
            el: '#subscribe',

            data: {
                address: null,
                address_complement: null,
                address_neighborhood: null,
                address_city: null,
                cpf: null,
                cpfValid: false,
                zipValid: false,
                birthdate: null,
                city: null,
                facebook: null,
                social_name: null,
                id_issuer: null,
                registration: null,
                email: null,
                grade: null,
                phone_home: null,
                phone_cellular: null,
                name: null,
                zip_code: null,
                gender: null,
                gender2: null,
                id_number: null,
                schools: emptySchool,
                school: '',
            },

            methods: {
                checkCpf: function()
                {
                    var cpf = jQuery('#cpf').val();

                    cpf = cpf.split('.').join("");
                    cpf = cpf.split('-').join("");
                    cpf = cpf.split('_').join("");

                    this.cpfValid = TestaCPF(cpf);
                },

                checkZip: function()
                {
                    var zip = jQuery('#zip_code').val();

                    zip = zip.split('.').join("");
                    zip = zip.split('-').join("");
                    zip = zip.split('_').join("");

                    if (zip.length == 8)
                    {
                        this.zipValid = true;

                        this.$http.get('http://viacep.com.br/ws/'+zip+'/json/', function(zip)
                        {
                            if (zip.localidade)
                            {
                                this.address_city = zip.localidade;
                                this.address = zip.logradouro;
                                this.address_neighborhood = zip.bairro;
                            }
                        });
                    }
                },

                __fetchSchools: function (event)
                {
                    if (this.city)
                    {
                        this.$http.get('/schools/' + this.city, function (schools)
                        {
                            this.schools = schools;
                        });
                    }
                },

                __cityChanged: function (event)
                {
                    var city = '';

                    if (this.city !== city)
                    {
                        this.school = '';
                    }

                    this.__fetchSchools();
                },
            },

            watch: {
                'city': '__cityChanged',
            },

            ready: function ()
            {
                this.__fetchSchools();
            },
        });
    }
</script>
<script>
    if (jQuery("#vue-congressmen").length)
    {
        var vueCongressmen = new Vue(
                {
                    el: '#vue-congressmen',

                    data: {
                        searchText: '',
                        congressmen: [],
                    },

                    methods: {
                        __fetchCongressmen: function() {
                            this.$http.get('/api/v1/congressmen/2015' , function(congressmen) {
                                this.congressmen = congressmen;
                            });
                        },
                    },

                    ready: function ()
                    {
                        this.__fetchCongressmen();
                    }
                });
    }
</script>
<script>
    Vue.transition('stagger', {
        stagger: function (index) {
            return Math.min(300, index * 50)
        }
    });

    Vue.filter('moreThanOneSchool', function (value)
    {
        if (vueAdminIndex.$data.filterSchools)
        {
            return value.filter(schoolGreaterThanOne);
        }

        return value;
    });

    Vue.filter('sort', function (value)
    {
        var sorter = function(a, b)
        {
            var va = (a === null) ? "" : "" + a,
                    vb = (b === null) ? "" : "" + b;

            return va > vb ? 1 : ( va === vb ? 0 : -1 );
        };

        if (vueAdminIndex.$data.orderType == 'reverse')
        {
            return value.reverse(sorter);
        }

        return value.sort(sorter);
    });
</script>
<script>
    if (jQuery("#vue-gallery").length)
    {
        var vueGallery = new Vue({
            el: '#vue-gallery',

            data: {},

            methods: {
                __show: function (which) {
                    jQuery('#more-gallery-' + which).show();

                    jQuery('#more-gallery-' + which + '-button').hide('slow');

                    jQuery('html, body').animate({
                        scrollTop: jQuery(window).scrollTop() + 100
                    });
                }
            }
        });
    }
</script>
<script>
    if (jQuery("#vue-google-map").length)
    {
        var vueMap = new Vue(
                {
                    el: '#vue-google-map',

                    data: {
                        schools: null,
                        markers: [],
                        timeout: 1000,
                    },

                    methods: {
                        __createMarkers: function ()
                        {
                            this.schools.forEach(function(school)
                            {
                                var found = this.__findMarkerByName(school.name);
                                var marker = null;

                                if (isEmpty(found))
                                {
                                    var LatLng = {
                                        lat: parseFloat(school.latitude),
                                        lng: parseFloat(school.longitude),
                                    };

                                    var schoolInfo =
                                            '<div id="info-window" class="info-window">' +
                                            '      <div id="siteNotice"></div>' +
                                            '      <h1 id="firstHeading" class="firstHeading">'+school.name+'</h1>' +
                                            '      <div id="bodyContent">' +
                                            '            <p>Inscrições: '+school.subscriptioncount+'</p>' +
                                            '            <p>Cidade: '+school.city+'</p>' +
                                            '            <p>Bairro: '+school.neighborhood+'</p>' +
                                            '      </div>' +
                                            '</div>';

                                    marker = createGoogleMapsMarker(LatLng, school.name, schoolInfo);

                                    if (marker)
                                    {
                                        var marker =
                                        {
                                            id: school.id,
                                            school: school.name,
                                        }

                                        this.markers.push(marker);
                                    }
                                }
                            }.bind(this));
                        },

                        __findMarkerByName: function(name)
                        {
                            return this.markers.filter(function(obj)
                            {
                                if (obj.school == name)
                                {
                                    return obj;
                                }
                            });
                        },

                        __scheduleFetch: function()
                        {
                            setTimeout(function ()
                            {
                                this.__fetchSubscriptions();
                            }.bind(this), this.timeout);
                        },

                        __fetchSubscriptions: function()
                        {
                            this.$http.get('/subscriptions/schools', function(schools)
                            {
                                this.schools = schools;

                                this.$nextTick(function ()
                                {
                                    this.__createMarkers();
                                }.bind(this))
                            }.bind(this));

                            if (this.timeout < 10000)
                            {
                                this.__scheduleFetch();

                                this.timeout = this.timeout * 2;
                            }
                        },
                    },

                    ready: function()
                    {
                        this.__fetchSubscriptions();
                    },
                });
    }
</script>
<script>
    if (jQuery("#vue-schools").length)
    {
        //        var vueSchools = new Vue(
        //        {
        //        });
    }
</script>
<script>
    if (jQuery("#timeline").length)
    {
        var vueTimeline = new Vue({
            el: '#timeline',

            data:
            {
                year: 2016,
                address: null,
                timeline: null,
                now: null,
                timeOffset: 0,
                days: 0,
                hours: 0,
                minutes: 0,
                seconds: 0,
            },

            methods:
            {
                __nowW3c: function () {
                    return Date.parse(new Date().toUTCString());
                },

                __calculateTimeOffset: function (now)
                {
                    var serverTimeMillisGMT = Date.parse(new Date(now).toUTCString());
                    var localMillisUTC = this.__nowW3c();

                    this.timeOffset = serverTimeMillisGMT -  localMillisUTC;
                },

                __findNextEvent: function ()
                {
                    var now = this.__nowW3c();
                    var selected = false;

                    this.timeline.forEach(function(object, index)
                    {
                        var startDate = Date.parse(new Date(object.startW3c).toUTCString());
                        object.selected = false;

                        if (startDate >= now && ! selected)
                        {
                            object.selected = true;
                            this.timeline.$set(index, object);
                            selected = true;
                        }
                    }.bind(this));
                },

                __findSelectedEvent: function ()
                {
                    var selected = null;
                    var elements = this.timeline;

                    elements.forEach(function(object)
                    {
                        if (object.selected)
                        {
                            selected = object;
                        }
                    }.bind(this));

                    this.$set('timeline', elements);

                    return selected;
                },

                __displayTimer: function ()
                {
                    var event = this.__findSelectedEvent();

                    var eventStart = Date.parse(new Date(event.startW3c).toUTCString());
                    var now = this.__nowW3c();

                    this.seconds = (eventStart + this.timeOffset - now) / 1000;

                    this.days = Math.floor(this.seconds / (60 * 60 * 24)); //calculate the number of days
                    this.seconds -= this.days * 60 * 60 * 24; //update the seconds variable with no. of days removed

                    this.hours = Math.floor(this.seconds / (60 * 60));
                    this.seconds -= this.hours * 60 * 60; //update the seconds variable with no. of hours removed

                    this.minutes = Math.floor(this.seconds / 60);
                    this.seconds -= this.minutes * 60; //update the seconds variable with no. of minutes removed
                },

                __updateTimer: function ()
                {
                    setTimeout(function ()
                    {
                        this.__updateTimer();
                    }.bind(this), 1000)

                    if (! this.timeline)
                    {
                        return false;
                    }

                    this.__findNextEvent();

                    this.$nextTick(function ()
                    {
                        this.__displayTimer();
                    }.bind(this))
                },

                __fetchTimeline: function()
                {
                    if (this.year)
                    {
                        this.$http.get('/api/v1/timeline/' + this.year, function(timeline)
                        {
                            this.timeline = timeline.lines;

                            this.now = timeline.now;

                            this.__calculateTimeOffset(timeline.now);
                        }.bind(this));
                    }
                },

                __isCurrentCountdownEvent: function(item)
                {
                    var event = this.__findSelectedEvent();

                    if (event && typeof event !== 'undefined')
                    {
                        return item.start == event.start && item.end == event.end;
                    }
                },
            },

            ready: function()
            {
                this.__fetchTimeline();
                this.__updateTimer();
            },
        });
    }
</script>
<script>
    function schoolGreaterThanOne(school)
    {
        return school.schoolcount > 1;
    }

    function startFetchSubscriptionsClock()
    {
        vueAdminIndex.__fetchSubscriptions();
    }

    function loadPusher()
    {
        this.pusher = new Pusher('2c6e7075be562704023d');

        this.pusherChannel = this.pusher.subscribe('subscriptions');

        this.pusherChannel.bind('App\\Events\\SubscriptionWasUpdated', function(message)
        {
            vueAdminIndex.__fetchSubscriptions();
        });

        this.pusherChannel.bind('App\\Events\\SubscriptionWasCreated', function(message)
        {
            vueAdminIndex.__fetchSubscriptions();
            vueMap.__scheduleFetch();
        });
    }

    function clone(obj)
    {
        if (null == obj || "object" != typeof obj) return obj;
        var copy = obj.constructor();
        for (var attr in obj) {
            if (obj.hasOwnProperty(attr)) copy[attr] = obj[attr];
        }
        return copy;
    }

    function isEmpty(obj)
    {
        return Object.keys(obj).length == 0;
    }
</script>
<script>
    jQuery(document).ready(function() {
        jQuery('.owl-carousel').owlCarousel({
            rtl: true,
            loop: true,
            margin: 0,
            autoplay: true,
            autoplayTimeout: 1500,
            autoplayHoverPause: true,
            lazyLoad: true,
            dots: false,
            responsive: {
                0: {
                    items: 1
                },
                600: {
                    items: 3
                },
                1000: {
                    items: 8
                }
            }
        });
    });
</script>
<script>
    $(document).ready(function() {
        $('#pinBoot').pinterest_grid({
            no_columns: 4,
            padding_x: 10,
            padding_y: 10,
            margin_bottom: 50,
            single_column_breakpoint: 700
        });
    });

    ;(function ($, window, document, undefined) {
        var pluginName = 'pinterest_grid',
                defaults = {
                    padding_x: 10,
                    padding_y: 10,
                    no_columns: 3,
                    margin_bottom: 50,
                    single_column_breakpoint: 700
                },
                columns,
                $article,
                article_width;

        function Plugin(element, options) {
            this.element = element;
            this.options = $.extend({}, defaults, options) ;
            this._defaults = defaults;
            this._name = pluginName;
            this.init();
        }

        Plugin.prototype.init = function () {
            var self = this,
                    resize_finish;

            $(window).resize(function() {
                clearTimeout(resize_finish);
                resize_finish = setTimeout( function () {
                    self.make_layout_change(self);
                }, 11);
            });

            self.make_layout_change(self);

            setTimeout(function() {
                $(window).resize();
            }, 500);
        };

        Plugin.prototype.calculate = function (single_column_mode) {
            var self = this,
                    tallest = 0,
                    row = 0,
                    $container = $(this.element),
                    container_width = $container.width();
            $article = $(this.element).children();

            if(single_column_mode === true) {
                article_width = $container.width() - self.options.padding_x;
            } else {
                article_width = ($container.width() - self.options.padding_x * self.options.no_columns) / self.options.no_columns;
            }

            $article.each(function() {
                $(this).css('width', article_width);
            });

            columns = self.options.no_columns;

            $article.each(function(index) {
                var current_column,
                        left_out = 0,
                        top = 0,
                        $this = $(this),
                        prevAll = $this.prevAll(),
                        tallest = 0;

                if(single_column_mode === false) {
                    current_column = (index % columns);
                } else {
                    current_column = 0;
                }

                for(var t = 0; t < columns; t++) {
                    $this.removeClass('c'+t);
                }

                if(index % columns === 0) {
                    row++;
                }

                $this.addClass('c' + current_column);
                $this.addClass('r' + row);

                prevAll.each(function(index) {
                    if($(this).hasClass('c' + current_column)) {
                        top += $(this).outerHeight() + self.options.padding_y;
                    }
                });

                if(single_column_mode === true) {
                    left_out = 0;
                } else {
                    left_out = (index % columns) * (article_width + self.options.padding_x);
                }

                $this.css({
                    'left': left_out,
                    'top' : top
                });
            });

            this.tallest($container);
            $(window).resize();
        };

        Plugin.prototype.tallest = function (_container) {
            var column_heights = [],
                    largest = 0;

            for(var z = 0; z < columns; z++) {
                var temp_height = 0;
                _container.find('.c'+z).each(function() {
                    temp_height += $(this).outerHeight();
                });
                column_heights[z] = temp_height;
            }

            largest = Math.max.apply(Math, column_heights);
            _container.css('height', largest + (this.options.padding_y + this.options.margin_bottom));
        };

        Plugin.prototype.make_layout_change = function (_self) {
            if($(window).width() < _self.options.single_column_breakpoint) {
                _self.calculate(true);
            } else {
                _self.calculate(false);
            }
        };

        $.fn[pluginName] = function (options) {
            return this.each(function () {
                if (!$.data(this, 'plugin_' + pluginName)) {
                    $.data(this, 'plugin_' + pluginName,
                            new Plugin(this, options));
                }
            });
        }

    })(jQuery, window, document);

</script>
<script>
    var googleMap = null;

    function loadScript(src,callback)
    {
        var script = document.createElement("script");
        script.type = "text/javascript";
        if(callback)script.onload=callback;
        document.getElementsByTagName("head")[0].appendChild(script);
        script.src = src;
    }

    loadScript(
            'http://maps.googleapis.com/maps/api/js?v=3&callback=initialize&key=',
            function() {}
    );

    function initialize()
    {
        var mapOptions = {
            scrollwheel: false,
            zoom: 8,
            center: new google.maps.LatLng(-22.2098745,-43.1908651),
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            styles: [
                {
                    "featureType": "water",
                    "elementType": "all",
                    "stylers": [
                        {
                            "color": "#3b5998"
                        }
                    ]
                },
                {
                    "featureType": "administrative.province",
                    "elementType": "all",
                    "stylers": [
                        {
                            "visibility": "off"
                        }
                    ]
                },
                {
                    "featureType": "all",
                    "elementType": "all",
                    "stylers": [
                        {
                            "hue": "#3b5998"
                        },
                        {
                            "saturation": -22
                        }
                    ]
                },
                {
                    "featureType": "landscape",
                    "elementType": "all",
                    "stylers": [
                        {
                            "visibility": "on"
                        },
                        {
                            "color": "#f7f7f7"
                        },
                        {
                            "saturation": 10
                        },
                        {
                            "lightness": 76
                        }
                    ]
                },
                {
                    "featureType": "landscape.natural",
                    "elementType": "all",
                    "stylers": [
                        {
                            "color": "#f7f7f7"
                        }
                    ]
                },
                {
                    "featureType": "road.highway",
                    "elementType": "all",
                    "stylers": [
                        {
                            "color": "#8b9dc3"
                        }
                    ]
                },
                {
                    "featureType": "administrative.country",
                    "elementType": "geometry.stroke",
                    "stylers": [
                        {
                            "visibility": "simplified"
                        },
                        {
                            "color": "#3b5998"
                        }
                    ]
                },
                {
                    "featureType": "road.highway",
                    "elementType": "all",
                    "stylers": [
                        {
                            "visibility": "on"
                        },
                        {
                            "color": "#8b9dc3"
                        }
                    ]
                },
                {
                    "featureType": "road.highway",
                    "elementType": "all",
                    "stylers": [
                        {
                            "visibility": "simplified"
                        },
                        {
                            "color": "#8b9dc3"
                        }
                    ]
                },
                {
                    "featureType": "transit.line",
                    "elementType": "all",
                    "stylers": [
                        {
                            "invert_lightness": false
                        },
                        {
                            "color": "#ffffff"
                        },
                        {
                            "weight": 0.43
                        }
                    ]
                },
                {
                    "featureType": "road.highway",
                    "elementType": "labels.icon",
                    "stylers": [
                        {
                            "visibility": "off"
                        }
                    ]
                },
                {
                    "featureType": "road.local",
                    "elementType": "geometry.fill",
                    "stylers": [
                        {
                            "color": "#8b9dc3"
                        }
                    ]
                },
                {
                    "featureType": "administrative",
                    "elementType": "labels.icon",
                    "stylers": [
                        {
                            "visibility": "on"
                        },
                        {
                            "color": "#3b5998"
                        }
                    ]
                }
            ],
        };

        googleMap = new google.maps.Map(document.getElementById('map_canvas'), mapOptions);
    }

    function createGoogleMapsMarker(latLng, title, info)
    {
        if (typeof google == 'undefined')
        {
            return false;
        }

        var marker = new google.maps.Marker(
                {
                    position: latLng,
                    map: googleMap,
                    title: title,
                    icon: '/templates/2016/images/markers/10.png'
                });

        var infowindow = new google.maps.InfoWindow(
                {
                    content: info
                });

        marker.addListener('click', function()
        {
            infowindow.open(googleMap, marker);
        });

        return marker;
    }
</script>
<script>
    loadPusher();
</script>
</body>
</html>
